[supervisord]
nodaemon=true

[program:proxy1_token]
command=sh -c "python3 /app/proxy1/get_token.py --portal $PORTAL --ch $CH_ID"
autostart=true
autorestart=false
startsecs=0
stdout_logfile=/dev/stdout
stderr_logfile=/dev/stderr

[program:proxy1_update]
command=python3 /app/proxy1/update_playlist.py
autostart=true
autorestart=true
startsecs=5
stdout_logfile=/dev/stdout
stderr_logfile=/dev/stderr

[program:proxy2]
command=python3 /app/proxy2/main.py
autostart=true
autorestart=true
startsecs=5
stdout_logfile=/dev/stdout
stderr_logfile=/dev/stderr

[program:http80]
command=python3 -m http.server 80 --bind 0.0.0.0
directory=/app
autostart=true
autorestart=true
startsecs=0
stdout_logfile=/dev/stdout
stderr_logfile=/dev/stderr
